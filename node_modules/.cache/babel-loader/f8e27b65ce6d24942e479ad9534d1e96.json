{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\helper\\\\help-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\helper\\\\help-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"D:\\\\helper\\\\help-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{getUserTask}from\"../api/api.js\";var GET_USERS='GET-USERS';var SET_CURRENT_PAGE='SET-CURRENT-PAGE';var SET_TOTAL_USERS_COUNT='SET-TOTAL-USERS-COUNT';var initialState={users:[],pageSize:5,totalUsersCount:null,pageCount:1,page:10};var itemsReducer=function itemsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_USERS:return _objectSpread({},state,{users:action.users});case SET_CURRENT_PAGE:return _objectSpread({},state,{pageCount:action.page});case SET_TOTAL_USERS_COUNT:return _objectSpread({},state,{totalUsersCount:action.totalCount});default:return state;}};export var getUsersData=function getUsersData(users){return{type:GET_USERS,users:users};};export var setCurrentPageNumber=function setCurrentPageNumber(page){return{type:SET_CURRENT_PAGE,page:page};};export var totalUsersCount=function totalUsersCount(totalCount){return{type:SET_TOTAL_USERS_COUNT,totalCount:totalCount};};export var getItems=function getItems(page){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getUserTask.getItems(page);case 2:data=_context.sent;dispatch(setCurrentPageNumber(page));//let newData = data.users.reverse();\ndispatch(getUsersData(data.users));dispatch(totalUsersCount(data.totalCount));case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export default itemsReducer;","map":{"version":3,"sources":["D:/helper/help-app/src/redux/items_reducer.js"],"names":["getUserTask","GET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","initialState","users","pageSize","totalUsersCount","pageCount","page","itemsReducer","state","action","type","totalCount","getUsersData","setCurrentPageNumber","getItems","dispatch","data"],"mappings":"4aAAA,OAAQA,WAAR,KAA0B,eAA1B,CACA,GAAMC,CAAAA,SAAS,CAAG,WAAlB,CACA,GAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CACA,GAAMC,CAAAA,qBAAqB,CAAG,uBAA9B,CACA,GAAIC,CAAAA,YAAY,CAAG,CACjBC,KAAK,CAAE,EADU,CAEjBC,QAAQ,CAAE,CAFO,CAGjBC,eAAe,CAAE,IAHA,CAIjBC,SAAS,CAAC,CAJO,CAKjBC,IAAI,CAAC,EALY,CAAnB,CAQA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBP,YAAyB,IAAXQ,CAAAA,MAAW,2CACpD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKZ,CAAAA,SAAL,CACC,wBACKU,KADL,EACYN,KAAK,CAACO,MAAM,CAACP,KADzB,GAGA,IAAKH,CAAAA,gBAAL,CACC,wBACKS,KADL,EACYH,SAAS,CAACI,MAAM,CAACH,IAD7B,GAGA,IAAKN,CAAAA,qBAAL,CACC,wBACKQ,KADL,EACYJ,eAAe,CAACK,MAAM,CAACE,UADnC,GAIH,QACC,MAAOH,CAAAA,KAAP,CAfH,CAiBF,CAlBD,CAmBC,MAAO,IAAKI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACV,KAAD,CAAW,CACrC,MAAO,CACJQ,IAAI,CAAEZ,SADF,CAEJI,KAAK,CAALA,KAFI,CAAP,CAIA,CALM,CAOP,MAAO,IAAKW,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACP,IAAD,CAAU,CAC5C,MAAO,CACJI,IAAI,CAAEX,gBADF,CAEHO,IAAI,CAAJA,IAFG,CAAP,CAID,CALO,CAMP,MAAO,IAAKF,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACO,UAAD,CAAgB,CAC7C,MAAO,CACJD,IAAI,CAAEV,qBADF,CAEJW,UAAU,CAAVA,UAFI,CAAP,CAIA,CALM,CAMP,MAAO,IAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACR,IAAD,CAAU,CAChC,+FAAO,iBAAOS,QAAP,iJAEYlB,CAAAA,WAAW,CAACiB,QAAZ,CAAqBR,IAArB,CAFZ,QAEDU,IAFC,eAGLD,QAAQ,CAACF,oBAAoB,CAACP,IAAD,CAArB,CAAR,CACA;AACAS,QAAQ,CAACH,YAAY,CAACI,IAAI,CAACd,KAAN,CAAb,CAAR,CACAa,QAAQ,CAACX,eAAe,CAACY,IAAI,CAACL,UAAN,CAAhB,CAAR,CANK,sDAAP,+DAQD,CATM,CAYR,cAAeJ,CAAAA,YAAf","sourcesContent":["import {getUserTask} from \"../api/api.js\";\r\nconst GET_USERS = 'GET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT';\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: null,\r\n  pageCount:1,\r\n  page:10\r\n}\r\n\r\nconst itemsReducer = (state = initialState, action) => {\r\n   switch (action.type) {\r\n     case GET_USERS:\r\n      return {\r\n        ...state, users:action.users\r\n      }\r\n      case SET_CURRENT_PAGE:\r\n       return {\r\n         ...state, pageCount:action.page\r\n       }\r\n       case SET_TOTAL_USERS_COUNT:\r\n        return {\r\n          ...state, totalUsersCount:action.totalCount\r\n        }\r\n\r\n     default:\r\n      return state;\r\n   }\r\n}\r\n export let  getUsersData = (users) => {\r\n  return {\r\n     type: GET_USERS,\r\n     users\r\n  }\r\n }\r\n\r\n export let  setCurrentPageNumber = (page) => {\r\n  return {\r\n     type: SET_CURRENT_PAGE,\r\n      page\r\n  }\r\n}\r\n export let  totalUsersCount = (totalCount) => {\r\n  return {\r\n     type: SET_TOTAL_USERS_COUNT,\r\n     totalCount\r\n  }\r\n }\r\n export const getItems = (page) => {\r\n   return async (dispatch) => {\r\n\r\n     let data = await getUserTask.getItems(page);\r\n     dispatch(setCurrentPageNumber(page));\r\n     //let newData = data.users.reverse();\r\n     dispatch(getUsersData(data.users));\r\n     dispatch(totalUsersCount(data.totalCount));\r\n   }\r\n }\r\n\r\n\r\nexport default itemsReducer;"]},"metadata":{},"sourceType":"module"}